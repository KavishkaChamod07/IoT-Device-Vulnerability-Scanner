import import_resources

def create_reports_folder():
    # Create a folder for reports based on the current date and time
    current_datetime = import_resources.datetime.now()
    folder_name = current_datetime.strftime("%Y-%m-%d_%H-%M-%S")

    documents_dir = import_resources.os.path.expanduser("~/Documents")
    import_resources.reports_dir = import_resources.os.path.join(documents_dir, "IoT_Vulnerability_Reports", folder_name)
    import_resources.os.makedirs(import_resources.reports_dir, exist_ok=True)
    #print(f"directory {import_resources.reports_dir}")
    return import_resources.reports_dir

def empty_folder_deletion():
    report_dir = import_resources.os.path.expanduser("~/Documents/IoT_Vulnerability_Reports/")
    for root, dirs, files in import_resources.os.walk(report_dir, topdown=False):
        for folder in dirs:
            folder_path = import_resources.os.path.join(root, folder)
            if not import_resources.os.listdir(folder_path):  # Check if the folder is empty
                import_resources.os.rmdir(folder_path)
                print(f"Empty folder deleted: {folder_path}")